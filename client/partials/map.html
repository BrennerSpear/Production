<!-- Toolbar --> 
<md-toolbar layout="row" class="md-accent">
  <h1>CrissCross</h1>
</md-toolbar>

<div flex layout="row">

  <!-- Sidenav Container (Container #3 )-->
  <md-sidenav md-is-locked-open="true" class="md-whiteframe-z2">
    <md-list>

      <!-- List item #1 -->
      <md-list-item >
        <md-button>
          <md-icon md-svg-src="./assets/svg/avatar-1.svg" class="avatar"></md-icon>
          Lia Luogo
        </md-button>
      </md-list-item>

      <!-- List item #2 -->
      <md-list-item >
        <md-button>
         <md-icon md-svg-src="./assets/svg/avatar-4.svg" class="avatar"></md-icon>
          Lawrence Ray
        </md-button>
      </md-list-item>

      <!-- Generate list item for each location result -->
<!--       <md-list-item ng-repeat="u in ul.users">
        <md-button ng-click="ul.selectUser(u)" ng-class="{'selected' : u === ul.selected }">
          <md-icon md-svg-icon="{{u.avatar}}" class="avatar"></md-icon>
          {{u.name}}
        </md-button>
      </md-list-item> -->

    </md-list>
  </md-sidenav>

  <!-- Map Container (Container #4) -->
  <md-content flex id="content">

    <div class="logout" ng-controller="registerLogInLogOut">
      <form>
        <div class="form-group">
          <button class="btn btn-action" type="submit" ng-click="showProfile()" ng-show="loggedIn">Profile</button>
          <button id="btnLogout" class="btn btn-action" type="submit" ng-click="logOut()" ng-show="loggedIn">Logout</button>
          <br>
          <div>{{badLogin}}</div>
        </div>
      </form>
    </div>

    <div ng-controller="initializeMap" class="map-wrapper">
      <ng-map class="myMap" center="current-location" zoom="14" default-style="false">
        <shape id="circle" name="circle" centered="true" 
          center="{{avgLat}} {{avgLon}}"
          stroke-color='#8c00ff' stroke-opacity="0.5" stroke-weight="2"
          radius={{radius}} editable="true" >
        </shape>
        <directions suppress-markers="true"></directions>
        <div ng-repeat="(key, value) in userLocations" >
          <marker position="{{value.coordinates.latitude}}, {{value.coordinates.longitude}}"></marker>
          <custom-marker position="{{value.coordinates.latitude}}, {{value.coordinates.longitude}}">
            <p class="user-label">{{value.username}}</p>
          </custom-marker>
        </div>
      </ng-map>
    </div>
  </md-content>

</div>


<!-- <div ng-controller="initializeMap" class="map-wrapper">
  <ng-map class="myMap" center="current-location" zoom="14" default-style="false">
    <!-- <shape id="circle" name="circle" centered="true" 
      center="{{avgLat}} {{avgLon}}"
      stroke-color='#8c00ff' stroke-opacity="0.5" stroke-weight="2"
      radius={{radius}} editable="true" >
    </shape> -->
    <div ng-repeat="location in foursquareLocations track by $index">
      <marker
        position="{{location.venue.location.lat}}, {{location.venue.location.lng}}"
        icon="{url:'/images/food.png', size:[30, 30], origin:[0, 0], anchor:[30, 30]}">
      </marker>
      <custom-marker key="location-{{$index}}" position="{{location.venue.location.lat}}, {{location.venue.location.lng}}">
        <p class="location-label">{{location.venue.name}}</p>
      </custom-marker>
    </div>
    <directions suppress-markers="true"></directions>
    <div ng-repeat="(key, value) in userLocations" >
      <marker position="{{value.coordinates.latitude}}, {{value.coordinates.longitude}}"></marker>
      <custom-marker position="{{value.coordinates.latitude}}, {{value.coordinates.longitude}}">
        <p class="user-label">{{value.username}}</p>
      </custom-marker>
    </div>
  </ng-map>
</div>

<div class="icon-message" ng-controller="registerLogInLogOut">
    <img ng-show="loggedIn" src="../images/icon-message.png" ng-click="showPartial()">
</div> 

<div class="panel" ng-controller="chatterboxCtrl" ng-show="showMessages" ng-init="fetchMessage()">

  <div class="panel-body chat-window" >
    <div style="height: 80%">
      <div ng-repeat="message in messageObj" style="margin: 10px 0;">
        <b>{{message.username}}</b>: {{message.text}}
      </div>
    </div>  
    
    <div class="chatCloseButton">
      <a href="" ng-click="hidePartial()">Close</a>
    </div>

    <div class="input-field">
      <form>
        <input type="text" size="500" ng-model="text" style="width: 95%" autofocus /><br/>
        <button type="submit" ng-click="sendMessage()" style="visibility: hidden">Send Message</button>
      </form>
    <div>

  </div>

</div>


<div ng-controller="watchCurrentUserLocation"></div>

<div ng-controller="chatterboxCtrl" ng-init="fetchMessage()"></div> -->



    